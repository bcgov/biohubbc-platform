-- populate_source_transform.sql

insert into source_transform (system_user_id, version, metadata_index, metadata_transform, metadata_transform_precompile) values ((select system_user_id from system_user where user_identifier = 'SIMS-SVC')
, '1.0'
, 'biohub_metadata'
, '<\?xml version="1.0" encoding="UTF-8"\?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:eml="https://eml.ecoinformatics.org/eml-2.2.0"
    exclude-result-prefixes="xs"
    version="1.0">
    <xsl:output omit-xml-declaration="yes"/>
    <xsl:template match="/">
        <xsl:text>{</xsl:text>
        "datasetName": "<xsl:value-of select="/eml:eml/dataset/title"/>",
        "publishDate": "<xsl:value-of select="/eml:eml/dataset/pubDate"/>",
        "datasetTitle": "<xsl:value-of select="/eml:eml/dataset/title"/>",
        "project": [<xsl:for-each select="//project|//relatedProject">{"projectId": "<xsl:value-of select="./@id"/>",
            "projectTitle": "<xsl:value-of select="./title"/>",
            "projectOrganizationName": "<xsl:value-of select="./personnel/organizationName"/>",
            "projectObjectives": "<xsl:value-of select="./abstract/section[title/text()=\'Objectives\']/para"/>",
            "fundingSource": "<xsl:value-of select="./funding/section[title/text()=\'Funding Source\']/para"/>",
            "fundingStartDate": "<xsl:value-of select="./funding/section[title/text()=\'Funding Source\']/section/section[title/text()=\'Funding Start Date\']/para"/>",
            "fundingEndDate": "<xsl:value-of select="./funding/section[title/text()=\'Funding Source\']/section/section[title/text()=\'Funding End Date\']/para"/>"
            <xsl:if test="./studyAreaDescription/coverage/taxonomicCoverage">, "taxonomicCoverage": {"taxonRankName": "<xsl:value-of select="./studyAreaDescription/coverage/taxonomicCoverage/taxonomicClassification/taxonRankName"/>",
                "taxonRankValue": "<xsl:value-of select="./studyAreaDescription/coverage/taxonomicCoverage/taxonomicClassification/taxonRankValue"/>",
                "commonName": "<xsl:value-of select="./studyAreaDescription/coverage/taxonomicCoverage/taxonomicClassification/commonName"/>",
                "taxonId": "<xsl:value-of select="./studyAreaDescription/coverage/taxonomicCoverage/taxonomicClassification/taxonId"/>"}
            </xsl:if>}
            <xsl:if test="position() != last()"><xsl:text>,</xsl:text></xsl:if></xsl:for-each>],
        "projectIUCNConservationActions": [<xsl:for-each select="//additionalMetadata/metadata/IUCNConservationActions/IUCNConservationAction">{"IUCNConservationActionLevel1Classification": "<xsl:value-of select="./IUCNConservationActionLevel1Classification"/>",
            "IUCNConservationActionLevel2SubClassification": "<xsl:value-of select="./IUCNConservationActionLevel2SubClassification"/>",
            "IUCNConservationActionLevel3SubClassification": "<xsl:value-of select="./IUCNConservationActionLevel3SubClassification"/>"}
            <xsl:if test="position() != last()"><xsl:text>,</xsl:text></xsl:if></xsl:for-each>],
        "projectStakeholderPartnerships": [<xsl:for-each select="//additionalMetadata/metadata/stakeholderPartnerships/stakeholderPartnership">"<xsl:value-of select="./name"/>"
            <xsl:if test="position() != last()"><xsl:text>,</xsl:text></xsl:if></xsl:for-each>],
        "projectActivities": [<xsl:for-each select="//additionalMetadata/metadata/projectActivities/projectActivity">"<xsl:value-of select="./name"/>"
            <xsl:if test="position() != last()"><xsl:text>,</xsl:text></xsl:if></xsl:for-each>],
        "projectClimateChangeInitiatives": [<xsl:for-each select="//additionalMetadata/metadata/climateChangeInitiatives/climateChangeInitiative">"<xsl:value-of select="./name"/>"
            <xsl:if test="position() != last()"><xsl:text>,</xsl:text></xsl:if></xsl:for-each>],
        "projectFirtNations": [<xsl:for-each select="//additionalMetadata/metadata/firtNations/firtNation">"<xsl:value-of select="./name"/>"
            <xsl:if test="position() != last()"><xsl:text>,</xsl:text></xsl:if></xsl:for-each>],
        "projectManagementActionTypes": [<xsl:for-each select="//additionalMetadata/metadata/managementActionTypes/managementActionType">"<xsl:value-of select="./name"/>"
            <xsl:if test="position() != last()"><xsl:text>,</xsl:text></xsl:if></xsl:for-each>],
        "projectSurveyProprietors": [<xsl:for-each select="//additionalMetadata/metadata/surveyProprietors/surveyProprietor">{"firstNationsName": "<xsl:value-of select="./firstNationsName"/>",
            "proprietorType": "<xsl:value-of select="./proprietorType"/>",
            "rationale": "<xsl:value-of select="./rationale"/>",
            "proprietorName": "<xsl:value-of select="./proprietorName"/>",
            "DISARequired": "<xsl:value-of select="./DISARequired"/>"}
            <xsl:if test="position() != last()"><xsl:text>,</xsl:text></xsl:if></xsl:for-each>]
        }
    </xsl:template>
</xsl:stylesheet>'
, '{"N":"package","version":"10","packageVersion":"1","saxonVersion":"SaxonJS 2.4","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2022-05-31T11:52:44.964-07:00","ns":"xml=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0","C":[{"N":"co","binds":"","id":"0","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"0","ns":"xml=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///home/ubuntu64/node/saxonjs/transforms/sims_eml_transform.1.xsl","line":"8","module":"sims_eml_transform.1.xsl","expand-text":"false","match":"/","prio":"-0.5","matches":"ND","C":[{"N":"p.nodeTest","role":"match","test":"ND","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"{"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\n        \"datasetName\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"10","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"10","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE nQ{https://eml.ecoinformatics.org/eml-2.2.0}eml"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}dataset,NE nQ{http://www.w3.org/1999/xhtml}dataset]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n        \"publishDate\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"11","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"11","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE nQ{https://eml.ecoinformatics.org/eml-2.2.0}eml"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}dataset,NE nQ{http://www.w3.org/1999/xhtml}dataset]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}pubDate,NE nQ{http://www.w3.org/1999/xhtml}pubDate]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n        \"datasetTitle\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"12","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"12","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE nQ{https://eml.ecoinformatics.org/eml-2.2.0}eml"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}dataset,NE nQ{http://www.w3.org/1999/xhtml}dataset]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n        \"project\": ["}]},{"N":"forEach","sType":"* ","line":"13","C":[{"N":"docOrder","sType":"*NE u[NE u[NE nQ{}project,NE nQ{http://www.w3.org/1999/xhtml}project],NE u[NE nQ{}relatedProject,NE nQ{http://www.w3.org/1999/xhtml}relatedProject]]","role":"select","line":"13","C":[{"N":"union","op":"|","sType":"*NE u[NE u[NE nQ{}project,NE nQ{http://www.w3.org/1999/xhtml}project],NE u[NE nQ{}relatedProject,NE nQ{http://www.w3.org/1999/xhtml}relatedProject]]","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}project,NE nQ{http://www.w3.org/1999/xhtml}project]"}]},{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}relatedProject,NE nQ{http://www.w3.org/1999/xhtml}relatedProject]"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"{\"projectId\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NA nQ{}id","role":"select","line":"7","C":[{"N":"slash","op":"/","sType":"*NA nQ{}id","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}id"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"projectTitle\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"14","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"14","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"projectOrganizationName\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"15","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"15","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}personnel,NE nQ{http://www.w3.org/1999/xhtml}personnel]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}organizationName,NE nQ{http://www.w3.org/1999/xhtml}organizationName]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"projectObjectives\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"16","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"16","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}abstract,NE nQ{http://www.w3.org/1999/xhtml}abstract]"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}section,NE nQ{http://www.w3.org/1999/xhtml}section]"},{"N":"gc10","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"},{"N":"axis","name":"child","nodeTest":"*NT"}]},{"N":"str","val":"Objectives"}]}]}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}para,NE nQ{http://www.w3.org/1999/xhtml}para]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"fundingSource\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"17","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"17","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}funding,NE nQ{http://www.w3.org/1999/xhtml}funding]"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}section,NE nQ{http://www.w3.org/1999/xhtml}section]"},{"N":"gc10","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"},{"N":"axis","name":"child","nodeTest":"*NT"}]},{"N":"str","val":"Funding Source"}]}]}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}para,NE nQ{http://www.w3.org/1999/xhtml}para]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"fundingStartDate\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"18","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"18","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}funding,NE nQ{http://www.w3.org/1999/xhtml}funding]"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}section,NE nQ{http://www.w3.org/1999/xhtml}section]"},{"N":"gc10","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"},{"N":"axis","name":"child","nodeTest":"*NT"}]},{"N":"str","val":"Funding Source"}]}]}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}section,NE nQ{http://www.w3.org/1999/xhtml}section]"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}section,NE nQ{http://www.w3.org/1999/xhtml}section]"},{"N":"gc10","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"},{"N":"axis","name":"child","nodeTest":"*NT"}]},{"N":"str","val":"Funding Start Date"}]}]}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}para,NE nQ{http://www.w3.org/1999/xhtml}para]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"fundingEndDate\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"19","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"19","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}funding,NE nQ{http://www.w3.org/1999/xhtml}funding]"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}section,NE nQ{http://www.w3.org/1999/xhtml}section]"},{"N":"gc10","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"},{"N":"axis","name":"child","nodeTest":"*NT"}]},{"N":"str","val":"Funding Source"}]}]}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}section,NE nQ{http://www.w3.org/1999/xhtml}section]"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}section,NE nQ{http://www.w3.org/1999/xhtml}section]"},{"N":"gc10","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"},{"N":"axis","name":"child","nodeTest":"*NT"}]},{"N":"str","val":"Funding End Date"}]}]}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}para,NE nQ{http://www.w3.org/1999/xhtml}para]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"\n            "}]},{"N":"choose","sType":"* ","line":"20","C":[{"N":"docOrder","sType":"*NE","line":"20","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}studyAreaDescription,NE nQ{http://www.w3.org/1999/xhtml}studyAreaDescription]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}coverage,NE nQ{http://www.w3.org/1999/xhtml}coverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicCoverage,NE nQ{http://www.w3.org/1999/xhtml}taxonomicCoverage]"}]}]}]},{"N":"sequence","sType":"*NT ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":", \"taxonomicCoverage\": {\"taxonRankName\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"15","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}studyAreaDescription,NE nQ{http://www.w3.org/1999/xhtml}studyAreaDescription]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}coverage,NE nQ{http://www.w3.org/1999/xhtml}coverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicCoverage,NE nQ{http://www.w3.org/1999/xhtml}taxonomicCoverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicClassification,NE nQ{http://www.w3.org/1999/xhtml}taxonomicClassification]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonRankName,NE nQ{http://www.w3.org/1999/xhtml}taxonRankName]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n                \"taxonRankValue\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"21","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"21","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}studyAreaDescription,NE nQ{http://www.w3.org/1999/xhtml}studyAreaDescription]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}coverage,NE nQ{http://www.w3.org/1999/xhtml}coverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicCoverage,NE nQ{http://www.w3.org/1999/xhtml}taxonomicCoverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicClassification,NE nQ{http://www.w3.org/1999/xhtml}taxonomicClassification]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonRankValue,NE nQ{http://www.w3.org/1999/xhtml}taxonRankValue]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n                \"commonName\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"22","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"22","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}studyAreaDescription,NE nQ{http://www.w3.org/1999/xhtml}studyAreaDescription]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}coverage,NE nQ{http://www.w3.org/1999/xhtml}coverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicCoverage,NE nQ{http://www.w3.org/1999/xhtml}taxonomicCoverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicClassification,NE nQ{http://www.w3.org/1999/xhtml}taxonomicClassification]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}commonName,NE nQ{http://www.w3.org/1999/xhtml}commonName]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n                \"taxonId\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"23","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"23","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}studyAreaDescription,NE nQ{http://www.w3.org/1999/xhtml}studyAreaDescription]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}coverage,NE nQ{http://www.w3.org/1999/xhtml}coverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicCoverage,NE nQ{http://www.w3.org/1999/xhtml}taxonomicCoverage]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonomicClassification,NE nQ{http://www.w3.org/1999/xhtml}taxonomicClassification]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}taxonId,NE nQ{http://www.w3.org/1999/xhtml}taxonId]"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"}\n            "}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"}\n            "}]},{"N":"choose","sType":"? ","line":"25","C":[{"N":"gc10","op":"!=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","line":"25","C":[{"N":"fn","name":"position"},{"N":"fn","name":"last"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":","}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"],\n        \"projectIUCNConservationActions\": ["}]},{"N":"forEach","sType":"* ","line":"26","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"26","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}additionalMetadata,NE nQ{http://www.w3.org/1999/xhtml}additionalMetadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}metadata,NE nQ{http://www.w3.org/1999/xhtml}metadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}IUCNConservationActions,NE nQ{http://www.w3.org/1999/xhtml}IUCNConservationActions]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}IUCNConservationAction,NE nQ{http://www.w3.org/1999/xhtml}IUCNConservationAction]"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"{\"IUCNConservationActionLevel1Classification\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"22","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}IUCNConservationActionLevel1Classification,NE nQ{http://www.w3.org/1999/xhtml}IUCNConservationActionLevel1Classification]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"IUCNConservationActionLevel2SubClassification\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"27","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"27","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}IUCNConservationActionLevel2SubClassification,NE nQ{http://www.w3.org/1999/xhtml}IUCNConservationActionLevel2SubClassification]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"IUCNConservationActionLevel3SubClassification\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"28","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"28","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}IUCNConservationActionLevel3SubClassification,NE nQ{http://www.w3.org/1999/xhtml}IUCNConservationActionLevel3SubClassification]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"}\n            "}]},{"N":"choose","sType":"? ","line":"29","C":[{"N":"gc10","op":"!=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","line":"29","C":[{"N":"fn","name":"position"},{"N":"fn","name":"last"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":","}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"],\n        \"projectStakeholderPartnerships\": ["}]},{"N":"forEach","sType":"* ","line":"30","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"30","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}additionalMetadata,NE nQ{http://www.w3.org/1999/xhtml}additionalMetadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}metadata,NE nQ{http://www.w3.org/1999/xhtml}metadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}stakeholderPartnerships,NE nQ{http://www.w3.org/1999/xhtml}stakeholderPartnerships]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}stakeholderPartnership,NE nQ{http://www.w3.org/1999/xhtml}stakeholderPartnership]"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"28","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}name,NE nQ{http://www.w3.org/1999/xhtml}name]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"\n            "}]},{"N":"choose","sType":"? ","line":"31","C":[{"N":"gc10","op":"!=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","line":"31","C":[{"N":"fn","name":"position"},{"N":"fn","name":"last"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":","}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"],\n        \"projectActivities\": ["}]},{"N":"forEach","sType":"* ","line":"32","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"32","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}additionalMetadata,NE nQ{http://www.w3.org/1999/xhtml}additionalMetadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}metadata,NE nQ{http://www.w3.org/1999/xhtml}metadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}projectActivities,NE nQ{http://www.w3.org/1999/xhtml}projectActivities]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}projectActivity,NE nQ{http://www.w3.org/1999/xhtml}projectActivity]"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"32","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}name,NE nQ{http://www.w3.org/1999/xhtml}name]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"\n            "}]},{"N":"choose","sType":"? ","line":"33","C":[{"N":"gc10","op":"!=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","line":"33","C":[{"N":"fn","name":"position"},{"N":"fn","name":"last"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":","}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"],\n        \"projectClimateChangeInitiatives\": ["}]},{"N":"forEach","sType":"* ","line":"34","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"34","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}additionalMetadata,NE nQ{http://www.w3.org/1999/xhtml}additionalMetadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}metadata,NE nQ{http://www.w3.org/1999/xhtml}metadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}climateChangeInitiatives,NE nQ{http://www.w3.org/1999/xhtml}climateChangeInitiatives]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}climateChangeInitiative,NE nQ{http://www.w3.org/1999/xhtml}climateChangeInitiative]"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"36","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}name,NE nQ{http://www.w3.org/1999/xhtml}name]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"\n            "}]},{"N":"choose","sType":"? ","line":"35","C":[{"N":"gc10","op":"!=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","line":"35","C":[{"N":"fn","name":"position"},{"N":"fn","name":"last"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":","}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"],\n        \"projectFirtNations\": ["}]},{"N":"forEach","sType":"* ","line":"36","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"36","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}additionalMetadata,NE nQ{http://www.w3.org/1999/xhtml}additionalMetadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}metadata,NE nQ{http://www.w3.org/1999/xhtml}metadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}firtNations,NE nQ{http://www.w3.org/1999/xhtml}firtNations]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}firtNation,NE nQ{http://www.w3.org/1999/xhtml}firtNation]"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"40","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}name,NE nQ{http://www.w3.org/1999/xhtml}name]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"\n            "}]},{"N":"choose","sType":"? ","line":"37","C":[{"N":"gc10","op":"!=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","line":"37","C":[{"N":"fn","name":"position"},{"N":"fn","name":"last"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":","}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"],\n        \"projectManagementActionTypes\": ["}]},{"N":"forEach","sType":"* ","line":"38","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"38","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}additionalMetadata,NE nQ{http://www.w3.org/1999/xhtml}additionalMetadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}metadata,NE nQ{http://www.w3.org/1999/xhtml}metadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}managementActionTypes,NE nQ{http://www.w3.org/1999/xhtml}managementActionTypes]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}managementActionType,NE nQ{http://www.w3.org/1999/xhtml}managementActionType]"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"44","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}name,NE nQ{http://www.w3.org/1999/xhtml}name]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"\n            "}]},{"N":"choose","sType":"? ","line":"39","C":[{"N":"gc10","op":"!=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","line":"39","C":[{"N":"fn","name":"position"},{"N":"fn","name":"last"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":","}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"],\n        \"projectSurveyProprietors\": ["}]},{"N":"forEach","sType":"* ","line":"40","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"40","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}additionalMetadata,NE nQ{http://www.w3.org/1999/xhtml}additionalMetadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}metadata,NE nQ{http://www.w3.org/1999/xhtml}metadata]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}surveyProprietors,NE nQ{http://www.w3.org/1999/xhtml}surveyProprietors]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}surveyProprietor,NE nQ{http://www.w3.org/1999/xhtml}surveyProprietor]"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"{\"firstNationsName\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"48","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}firstNationsName,NE nQ{http://www.w3.org/1999/xhtml}firstNationsName]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"proprietorType\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"41","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"41","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}proprietorType,NE nQ{http://www.w3.org/1999/xhtml}proprietorType]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"rationale\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"42","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"42","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}rationale,NE nQ{http://www.w3.org/1999/xhtml}rationale]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"proprietorName\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"43","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"43","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}proprietorName,NE nQ{http://www.w3.org/1999/xhtml}proprietorName]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\",\n            \"DISARequired\": \""}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"44","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"44","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","C":[{"N":"dot"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}DISARequired,NE nQ{http://www.w3.org/1999/xhtml}DISARequired]"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\"}\n            "}]},{"N":"choose","sType":"? ","line":"45","C":[{"N":"gc10","op":"!=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ eml=https://eml.ecoinformatics.org/eml-2.2.0 ","line":"45","C":[{"N":"fn","name":"position"},{"N":"fn","name":"last"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":","}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"]\n        }\n    "}]}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"10"},{"N":"property","name":"omit-xml-declaration","value":"yes"}]},{"N":"decimalFormat"}],"Î£":"67eb5089"}'
);
